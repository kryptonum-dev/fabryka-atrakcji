---
// Immediately reject kategoria paths to prevent ISR cache conflicts
if (Astro.params.slug === 'kategoria') {
  return new Response(null, { status: 404 })
}

import SingleActivityPage, { fetchData, staticPaths } from '@/src/templates/activities/SingleActivityPage.astro'

const data = await fetchData(Astro.params.slug || '', 'pl')

if (!data) return Astro.rewrite('/pl/404')

export const getStaticPaths = () => staticPaths('pl')
---

<SingleActivityPage {...data} />
