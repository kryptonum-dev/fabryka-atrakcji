---
import ActivitiesListing, { fetchData, staticPaths } from '@/src/templates/activities/CategoriesPage.astro'

const page = Number(Astro.params.page) || 1
const data = await fetchData('pl', page, Astro.url.searchParams)

if (!data) return Astro.rewrite('/pl/404/')

export const getStaticPaths = () => staticPaths('pl')
---

<ActivitiesListing {...data} currentPage={page} />
